generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
  url      = "file:./sport2000.db"
}

model Customer {
  customerId Int       @id @default(autoincrement())
  name       String
  city       String?
  country    String?
  phone      String?
  orders     Order[]

  @@map("customer")
}

model Salesman {
  salesmanId Int       @id @default(autoincrement())
  name       String
  region     String?
  orders     Order[]

  @@map("salesman")
}

model Item {
  itemId     Int         @id @default(autoincrement())
  name       String
  category   String?
  price      Float
  orderLines OrderLine[]

  @@map("item")
}

model Order {
  orderId    Int         @id @default(autoincrement())
  orderDate  DateTime    @default(now())
  customer   Customer    @relation(fields: [customerId], references: [customerId])
  customerId Int
  salesman   Salesman?   @relation(fields: [salesmanId], references: [salesmanId])
  salesmanId Int?
  lines      OrderLine[]

  @@map("order")
}

model OrderLine {
  orderLineId Int    @id @default(autoincrement())
  order       Order  @relation(fields: [orderId], references: [orderId])
  orderId     Int
  item        Item   @relation(fields: [itemId], references: [itemId])
  itemId      Int
  quantity    Int
  price       Float

  @@map("orderline")
}

